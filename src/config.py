import cv2
import numpy as np

VIDEO_PATH = "D:/Мисис/Диплом/AirVision/datasets/output.mp4"

FX = 615.0
FY = 615.0
CX = 320.0
CY = 240.0

CAMERA_MATRIX = np.array([[FX, 0, CX],
                          [0, FY, CY],
                          [0, 0, 1]
                          ], dtype=np.float64)

DIST_COEFFS = np.zeros((4,1), dtype=np.float64)

LOWE_RATIO = 0.806424240301121
KNN_K = 2

TRANSLATION_THRESHOLD = 0.11702108910191816
ROTATION_THRESHOLD_DEG = 0.7498295152568493
ROTATION_THRESHOLD = np.deg2rad(ROTATION_THRESHOLD_DEG)

TRIANGULATION_THRESHOLD_DEG = 0.7257522699936438
TRIANGULATION_THRESHOLD = np.deg2rad(TRIANGULATION_THRESHOLD_DEG)

BUNDLE_ADJUSTMENT_FRAMES = 3
ORB_INTERVAL = 1
FORCE_KEYFRAME_INTERVAL = 14
KEYFRAME_BA_INTERVAL = 1

MAX_REPROJ_ERROR = 126.47101651361533
MIN_OBSERVATIONS = 1
MAX_POINTS = 10000

MAP_CLEAN_MAX_DISTANCE = 10.264923606903096

BA_MAX_NFEV = 100
BA_FTOL = 0.004014888065031423
BA_XTOL = 0.0030272248309441883
BA_GTOL = 0.009513222984550469

E_RANSAC_THRESHOLD = 0.14863255758960048
H_RANSAC_THRESHOLD = 0.1
HOMOGRAPHY_INLIER_RATIO = 0.99999999

# Параметры ре-инициализации
LOST_THRESHOLD = 5

EPIPOLAR_THRESHOLD = 0.5399217654263768

INIT_SCALE = 1.0
ASSUMED_MEAN_DEPTH_DURING_INIT = 0.8

KPTS_UNIFORM_SELECTION_GRID_SIZE = 26
MAX_PTS_PER_GRID = 9
MAX_TOTAL_POINTS = 90000

